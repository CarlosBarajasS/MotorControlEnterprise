<div class="viewer-container">

    <div class="loading-state" *ngIf="isLoading">
        <div class="spinner"></div>
        <p>Conectando al stream en tiempo real...</p>
        <small>Bypasseando NAT vía Relay...</small>
    </div>

    <div class="error-state" *ngIf="hasError">
        <div class="icon">⚠️</div>
        <p>No se pudo conectar con la cámara.</p>
        <button (click)="retry()">Reintentar conexión</button>
    </div>

    <video #videoEl controls autoplay muted playsinline class="stream-frame"
        [class.hidden]="isLoading || hasError">
    </video>

    <div class="overlay-controls" *ngIf="!isLoading && !hasError">
        <div class="badge live">LIVE</div>
    </div>
</div>
